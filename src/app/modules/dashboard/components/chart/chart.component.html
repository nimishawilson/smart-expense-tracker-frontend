<div class="chart-container">
  <div class="chart-header">
    <h2>Expense Chart</h2>
    <div class="chart-controls">
      <span>Chart Type:</span>
      <button (click)="store.updateChartType('bar')" [class.active]="store.chartType() === 'bar'">Bar</button>
      <button (click)="store.updateChartType('pie')" [class.active]="store.chartType() === 'pie'">Pie</button>
      <button (click)="store.updateChartType('line')" [class.active]="store.chartType() === 'line'">Line</button>
    </div>
  </div>

  @if (store.isLoading()) {
    <div class="chart-content-loading">
      <p>Loading chart data...</p>
    </div>
  } @else if (store.error()) {
    <p class="error">{{ store.error() }}</p>
  } @else {
    <div class="chart-content">
      @switch (store.chartType()) {
        @case ('bar') {
          <app-bar-chart [data]="store.expensesByCategory()"></app-bar-chart>
        }
        @case ('pie') {
          <p class="placeholder">Pie chart would be displayed here.</p>
        }
        @case ('line') {
          <p class="placeholder">Line chart would be displayed here.</p>
        }
      }
    </div>
  }
</div>